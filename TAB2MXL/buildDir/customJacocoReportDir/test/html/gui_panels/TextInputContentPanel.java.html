<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TextInputContentPanel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">TAB2MXL</a> &gt; <a href="index.source.html" class="el_package">gui_panels</a> &gt; <span class="el_source">TextInputContentPanel.java</span></div><h1>TextInputContentPanel.java</h1><pre class="source lang-java linenums">package gui_panels;

import java.awt.Color;

import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.Font;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

import javax.swing.*;
import javax.swing.border.Border;
import javax.swing.event.DocumentEvent;
import javax.swing.event.DocumentListener;

import gui.ColorDef;
import gui.ColumnTextArea;
import gui.SteelCheckBox;
import gui.TextPrompt;
import gui.TextPrompt.Show;
import gui.UndoRedoTextArea;
import gui_popups.ClearPopUp;
import gui.ColumnTextArea;
import tab2mxl.CreateScore;
import tab2mxl.InstrumentDetection;
import tab2mxl.LoadManager;
import tab2mxl.Main;
import tab2mxl.SaveManager;

public class TextInputContentPanel extends JPanel implements ActionListener {
	public JTextArea textField;
<span class="nc" id="L34">	public static boolean scoremake = false;</span>
	JPanel titlePanel;
	JLabel titleLabel;
	
	JPanel clearPanel;
	JButton clearButton;
	
	JPanel savePanel;
	JButton saveButton;
	
	JScrollPane scroll;
	
	JPanel inputpanel;	
	JButton convertButton;
	
<span class="nc" id="L49">	String[] tabTypes = {&quot;Guitar&quot;, &quot;Bass&quot;, &quot;Drums&quot;};</span>
	JPanel detailsPanel;
	JComboBox tabList;
	JTextField timeSignature;
	JTextField songName;
	SteelCheckBox sheetMusicToggle;
	
	JPanel errorPanel;
	public JLabel errorText;
	
	private static String tabType;
	private static String title;
	private static String timeSig;
		
<span class="nc" id="L63">	TextInputContentPanel(){</span>
	
		// creates main content panel, lets layout to vertical, adds padding and sets it as Content Pane
<span class="nc" id="L66">		this.setLayout(new BoxLayout(this, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L67">		Border padding = BorderFactory.createEmptyBorder(4, 10,0, 10);</span>
<span class="nc" id="L68">		this.setBorder(padding);</span>
		
        // creates Title Container and adds label to the Content panel
<span class="nc" id="L71">        titlePanel = new JPanel();        </span>
        
<span class="nc" id="L73">        titlePanel.setLayout(new GridLayout(0, 3));</span>
<span class="nc" id="L74">        titlePanel.setOpaque(false);</span>
       // titlePanel.setBackground(Color.black);
<span class="nc" id="L76">        padding = BorderFactory.createEmptyBorder(0, 0, 0, 0);</span>
<span class="nc" id="L77">		titlePanel.setBorder(padding);</span>
		
<span class="nc" id="L79">		savePanel = new JPanel();</span>
<span class="nc" id="L80">		savePanel.setLayout(new FlowLayout(FlowLayout.LEFT,20,0));</span>
<span class="nc" id="L81">		savePanel.setOpaque(false);</span>
        
<span class="nc" id="L83">        saveButton = new JButton(&quot;Save&quot;);</span>
<span class="nc" id="L84">        saveButton.setBackground(new Color(33,150,243));</span>
<span class="nc" id="L85">        saveButton.setForeground(new Color(224,224,224));</span>
<span class="nc" id="L86">        saveButton.setFocusable(false);</span>
<span class="nc" id="L87">        saveButton.addActionListener(this);</span>
<span class="nc" id="L88">        saveButton.setOpaque(true);</span>
<span class="nc" id="L89">        saveButton.setBorderPainted(false);</span>
        //Button hover effects
<span class="nc" id="L91">        saveButton.addMouseListener(new java.awt.event.MouseAdapter() {</span>
    	    public void mouseEntered(java.awt.event.MouseEvent evt) {
<span class="nc" id="L93">    	    	saveButton.setBackground(new Color(224,224,224));</span>
<span class="nc" id="L94">    	    	saveButton.setForeground(new Color(33,150,243));</span>
<span class="nc" id="L95">    	    }</span>
    	    public void mouseExited(java.awt.event.MouseEvent evt) {
<span class="nc" id="L97">    	    	saveButton.setBackground(new Color(33,150,243));</span>
<span class="nc" id="L98">    	    	saveButton.setForeground(new Color(224,224,224));</span>
<span class="nc" id="L99">    	    }</span>
    	});  
<span class="nc" id="L101">        savePanel.add(saveButton);              </span>
<span class="nc" id="L102">        titlePanel.add(savePanel);</span>
        
<span class="nc" id="L104">        titleLabel = new JLabel(&quot;Paste Your Tablature Here&quot;);</span>
     //   titleLabel.setPreferredSize(new Dimension(100,25));
      //  titleLabel.setMinimumSize(new Dimension(200,100));
<span class="nc" id="L107">        titleLabel.setHorizontalAlignment(JLabel.CENTER);</span>
<span class="nc" id="L108">        titleLabel.setOpaque(false);</span>
<span class="nc" id="L109">        titleLabel.setBackground(new Color(33,150,243));</span>
<span class="nc" id="L110">        titleLabel.setForeground(Color.white);</span>
<span class="nc" id="L111">        titleLabel.setSize(new Dimension(100,20));</span>
<span class="nc" id="L112">        titlePanel.add(titleLabel);</span>
        //titlePanel.setPreferredSize(new Dimension(30,40));
       // titlePanel.setOpaque(true);
        //titlePanel.setBackground(new Color(33,150,243));
        
<span class="nc" id="L117">        clearPanel = new JPanel();</span>
<span class="nc" id="L118">        clearPanel.setLayout(new FlowLayout(FlowLayout.RIGHT, 20,0));</span>
<span class="nc" id="L119">        clearPanel.setOpaque(false);</span>
        
<span class="nc" id="L121">        clearButton = new JButton(&quot;Clear&quot;);</span>
<span class="nc" id="L122">        clearButton.setBackground(new Color(33,150,243));</span>
<span class="nc" id="L123">        clearButton.setForeground(new Color(224,224,224));</span>
<span class="nc" id="L124">        clearButton.setFocusable(false);</span>
<span class="nc" id="L125">        clearButton.addActionListener(this);</span>
<span class="nc" id="L126">        clearButton.setOpaque(true);</span>
<span class="nc" id="L127">        clearButton.setBorderPainted(false);</span>
        //Button hover effects
<span class="nc" id="L129">        clearButton.addMouseListener(new java.awt.event.MouseAdapter() {</span>
    	    public void mouseEntered(java.awt.event.MouseEvent evt) {
<span class="nc" id="L131">    	    	clearButton.setBackground(new Color(224,224,224));</span>
<span class="nc" id="L132">    	    	clearButton.setForeground(new Color(33,150,243));</span>
<span class="nc" id="L133">    	    }</span>
    	    public void mouseExited(java.awt.event.MouseEvent evt) {
<span class="nc" id="L135">    	    	clearButton.setBackground(new Color(33,150,243));</span>
<span class="nc" id="L136">    	    	clearButton.setForeground(new Color(224,224,224));</span>
<span class="nc" id="L137">    	    }</span>
    	}); 
<span class="nc" id="L139">        clearPanel.add(clearButton);</span>
<span class="nc" id="L140">        titlePanel.add(clearPanel);</span>
        
<span class="nc" id="L142">        this.add(titlePanel);</span>
        
        // generates the text field, sets size,font, and scrollability
<span class="nc" id="L145">        textField = new UndoRedoTextArea(); //Create empty text area (Undoable Text Area)</span>
<span class="nc" id="L146">        textField.setFont(new Font(Font.MONOSPACED, Font.PLAIN, 12));</span>
<span class="nc" id="L147">        textField.getDocument().addDocumentListener(new DocumentListener() { // Detect changes to the text area</span>
            @Override
<span class="nc" id="L149">            public void changedUpdate(DocumentEvent arg0) { }</span>
            
			@Override
			public void insertUpdate(DocumentEvent e) {
<span class="nc" id="L153">				String[] inputText = textField.getText().split(&quot;\n&quot;);</span>
<span class="nc" id="L154">				tabList.setSelectedIndex(InstrumentDetection.detectInstrument(GetInput(inputText,false)));</span>
<span class="nc" id="L155">			}</span>
			
			@Override
			public void removeUpdate(DocumentEvent e) {
<span class="nc" id="L159">				String[] inputText = textField.getText().split(&quot;\n&quot;);</span>
<span class="nc" id="L160">				tabList.setSelectedIndex(InstrumentDetection.detectInstrument(GetInput(inputText,false)));</span>
<span class="nc" id="L161">			}</span>
        });
        
        //textField.setFont(f);
<span class="nc" id="L165">        this.add(textField);</span>
<span class="nc" id="L166">        scroll = new JScrollPane (textField);</span>
<span class="nc" id="L167">        scroll.setPreferredSize(new Dimension(800, 500));</span>
<span class="nc" id="L168">        scroll.setMinimumSize(new Dimension(480, 300));</span>
<span class="nc" id="L169">        scroll.setSize(getPreferredSize());;</span>
<span class="nc" id="L170">        this.add(scroll);</span>
        
<span class="nc" id="L172">        detailsPanel = new JPanel();        </span>
<span class="nc" id="L173">        detailsPanel.setLayout(new GridLayout(1,3));</span>
<span class="nc" id="L174">        detailsPanel.setOpaque(false);</span>
                        
<span class="nc" id="L176">        JPanel tabListPanel = new JPanel();</span>
<span class="nc" id="L177">        tabListPanel.setLayout(new GridLayout(0, 1));</span>
<span class="nc" id="L178">        tabListPanel.setBorder(BorderFactory.createEmptyBorder(0, 20, 0, 20));</span>
<span class="nc" id="L179">        tabListPanel.setOpaque(false);</span>
<span class="nc" id="L180">        tabList = new JComboBox&lt;Object&gt;(tabTypes);</span>
<span class="nc" id="L181">        tabList.setSelectedIndex(0);</span>
<span class="nc" id="L182">        tabListPanel.add(tabList);</span>
        
<span class="nc" id="L184">        JPanel songNamePanel = new JPanel();</span>
<span class="nc" id="L185">        songNamePanel.setLayout(new GridLayout(0, 1));</span>
<span class="nc" id="L186">        songNamePanel.setBorder(BorderFactory.createEmptyBorder(0, 20, 0, 20));</span>
<span class="nc" id="L187">        songNamePanel.setOpaque(false);</span>
<span class="nc" id="L188">        songName = new JTextField();</span>
<span class="nc" id="L189">        songName.setFont(songName.getFont().deriveFont(16f));</span>
        //songName.setHorizontalAlignment(JTextField.CENTER);
<span class="nc" id="L191">        TextPrompt songNamePrompt = new TextPrompt(&quot;Song Name&quot;, songName,Show.FOCUS_LOST);</span>
<span class="nc" id="L192">        songNamePrompt.setHorizontalAlignment(JTextField.CENTER);</span>
<span class="nc" id="L193">        songNamePrompt.changeAlpha(0.8f);</span>
<span class="nc" id="L194">        songNamePanel.add(songName);</span>
        
<span class="nc" id="L196">        JPanel timeSignaturePanel = new JPanel();</span>
<span class="nc" id="L197">        timeSignaturePanel.setLayout(new GridLayout(0, 1));</span>
<span class="nc" id="L198">        timeSignaturePanel.setBorder(BorderFactory.createEmptyBorder(0, 20, 0, 20));</span>
<span class="nc" id="L199">        timeSignaturePanel.setOpaque(false);</span>
<span class="nc" id="L200">        timeSignature = new JTextField();</span>
<span class="nc" id="L201">        timeSignature.setFont(timeSignature.getFont().deriveFont(16f));</span>
        //timeSignature.setHorizontalAlignment(JTextField.CENTER);
<span class="nc" id="L203">        TextPrompt timeSignaturePrompt = new TextPrompt(&quot;Time Signature&quot;, timeSignature,Show.FOCUS_LOST);</span>
<span class="nc" id="L204">        timeSignaturePrompt.setHorizontalAlignment(JTextField.CENTER);</span>
<span class="nc" id="L205">        timeSignaturePrompt.changeAlpha(0.8f);</span>
<span class="nc" id="L206">        timeSignaturePanel.add(timeSignature);</span>
        
<span class="nc" id="L208">        Border detailsPadding = BorderFactory.createEmptyBorder(20, 0, 20, 0);</span>
<span class="nc" id="L209">        detailsPanel.setBorder(detailsPadding);</span>
        
        
<span class="nc" id="L212">        detailsPanel.add(tabListPanel);</span>
//        detailsPanel.add(new JPanel());
<span class="nc" id="L214">        detailsPanel.add(songNamePanel);</span>
//        detailsPanel.add(new JPanel());
<span class="nc" id="L216">        detailsPanel.add(timeSignaturePanel);</span>
        
        // creates the container for the button, generates the button and sets an action on click
<span class="nc" id="L219">        inputpanel = new JPanel();</span>
<span class="nc" id="L220">        inputpanel.setLayout(new FlowLayout());</span>
<span class="nc" id="L221">        convertButton = new JButton(&quot;Convert To MusicXML&quot;);</span>
<span class="nc" id="L222">        convertButton.setBackground(new Color(33,150,243));</span>
<span class="nc" id="L223">        convertButton.setForeground(new Color(224,224,224));</span>
<span class="nc" id="L224">        convertButton.setFocusable(false);</span>
<span class="nc" id="L225">        convertButton.addActionListener(this);</span>
<span class="nc" id="L226">        convertButton.setOpaque(true);</span>
<span class="nc" id="L227">        convertButton.setBorderPainted(false);</span>
        //Button hover effects
<span class="nc" id="L229">        convertButton.addMouseListener(new java.awt.event.MouseAdapter() {</span>
    	    public void mouseEntered(java.awt.event.MouseEvent evt) {
<span class="nc" id="L231">    	    	convertButton.setBackground(new Color(224,224,224));</span>
<span class="nc" id="L232">    	    	convertButton.setForeground(new Color(33,150,243));</span>
<span class="nc" id="L233">    	    }</span>
    	    public void mouseExited(java.awt.event.MouseEvent evt) {
<span class="nc" id="L235">    	    	convertButton.setBackground(new Color(33,150,243));</span>
<span class="nc" id="L236">    	    	convertButton.setForeground(new Color(224,224,224));</span>
<span class="nc" id="L237">    	    }</span>
    	});
        
<span class="nc" id="L240">        JPanel togglepanel = new JPanel();</span>
<span class="nc" id="L241">        togglepanel.setOpaque(false);</span>
<span class="nc" id="L242">        sheetMusicToggle = new SteelCheckBox();</span>
        
<span class="nc" id="L244">        sheetMusicToggle.setColored(true);</span>
<span class="nc" id="L245">        sheetMusicToggle.setSelectedColor(ColorDef.CUSTOM_BLUE);</span>
<span class="nc" id="L246">        sheetMusicToggle.setRised(false);</span>
<span class="nc" id="L247">        sheetMusicToggle.setText(&quot;Sheet Music&quot;);</span>
<span class="nc" id="L248">        sheetMusicToggle.setForeground(Color.white);</span>
<span class="nc" id="L249">        sheetMusicToggle.addActionListener(new ActionListener() {</span>
			@Override
			public void actionPerformed(ActionEvent e) {
<span class="nc bnc" id="L252" title="All 2 branches missed.">				if(e.getID() == ActionEvent.ACTION_PERFORMED){</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">					TextInputContentPanel.scoremake = !TextInputContentPanel.scoremake;</span>
				}
				//TextInputContentPanel.scoremake = e.getStateChange() == ItemEvent.SELECTED;
				//System.out.println(TextInputContentPanel.scoremake);
<span class="nc bnc" id="L257" title="All 4 branches missed.">				if( TextInputContentPanel.scoremake &amp;&amp; !CreateScore.isWindows()){</span>
<span class="nc" id="L258">					JOptionPane.showMessageDialog(null,&quot;We've detected you're running this application on MacOS, please read Section 6.5 of the User Manual before using this feature to prevent any errors&quot;);</span>
				}
<span class="nc" id="L260">			}</span>
		});
<span class="nc" id="L262">        togglepanel.add(sheetMusicToggle);</span>
<span class="nc" id="L263">		Border togglePadding = BorderFactory.createEmptyBorder(0, 40, 0, 0);</span>
<span class="nc" id="L264">		togglepanel.setBorder(togglePadding);</span>
<span class="nc" id="L265">        inputpanel.add(convertButton);</span>
<span class="nc" id="L266">        inputpanel.add(togglepanel);</span>
<span class="nc" id="L267">        Border buttonPadding = BorderFactory.createEmptyBorder(10, 10, 0, 10);</span>
<span class="nc" id="L268">        inputpanel.setBorder(buttonPadding);</span>
<span class="nc" id="L269">        inputpanel.setOpaque(false);</span>
        
<span class="nc" id="L271">        errorPanel = new JPanel();</span>
<span class="nc" id="L272">        errorPanel.setLayout(new FlowLayout());</span>
<span class="nc" id="L273">        errorText = new JLabel(&quot;&quot;);        </span>
<span class="nc" id="L274">        errorText.setForeground(Color.red);</span>
<span class="nc" id="L275">        errorPanel.add(errorText);</span>
<span class="nc" id="L276">        errorPanel.setPreferredSize(new Dimension(100, 30));</span>
<span class="nc" id="L277">        errorPanel.setOpaque(false);</span>
        
        //adds the button container to the content panel
<span class="nc" id="L280">        this.add(detailsPanel);</span>
<span class="nc" id="L281">        this.add(inputpanel);</span>
<span class="nc" id="L282">        this.add(errorPanel);</span>

<span class="nc" id="L284">        this.setOpaque(false);</span>
<span class="nc" id="L285">        this.setVisible(true);</span>
<span class="nc" id="L286">	}</span>

	@Override
	public void actionPerformed(ActionEvent e) {
		
<span class="nc bnc" id="L291" title="All 4 branches missed.">		if(e.getSource() == convertButton &amp;&amp; !Main.isInPopUp)</span>
		{	
			//Detect if the text area is empty
<span class="nc bnc" id="L294" title="All 2 branches missed.">			if(textField.getText().isEmpty())</span>
			{
<span class="nc" id="L296">				errorText.setText(&quot;Text Area Empty&quot;);</span>
<span class="nc" id="L297">				return;</span>
			}
<span class="nc" id="L299">			String[] inputText = textField.getText().split(&quot;\n&quot;);</span>
			
<span class="nc" id="L301">			ArrayList&lt;ArrayList&lt;String&gt;&gt; input = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();</span>
			
<span class="nc" id="L303">			input = GetInput(inputText,true); // Convert to double String ArrayList</span>
	       
<span class="nc bnc" id="L305" title="All 2 branches missed.">			if (input == null) {</span>
<span class="nc" id="L306">				return;</span>
			}
								
			//Detect if the text area is empty
<span class="nc" id="L310">			int lineLength = input.get(0).size();</span>
<span class="nc bnc" id="L311" title="All 2 branches missed.">			for (ArrayList&lt;String&gt; line : input) {</span>
<span class="nc bnc" id="L312" title="All 4 branches missed.">				if(line.size() != lineLength &amp;&amp; line.size() != 0)</span>
				{
<span class="nc" id="L314">					errorText.setText(&quot;Wrong Formatting&quot;);</span>
<span class="nc" id="L315">					return;</span>
				}
<span class="nc" id="L317">			}</span>
						
			/*
			for (ArrayList&lt;String&gt; line : input) {
				for (String chr : line) {
					System.out.print(chr);
				}
				System.out.println(&quot;&quot;);
			}
			*/
<span class="nc" id="L327">			setTabType(tabList.getSelectedItem().toString());</span>
<span class="nc" id="L328">			setTitle(songName.getText());</span>
<span class="nc" id="L329">			setTimeSig(timeSignature.getText());</span>
			
<span class="nc" id="L331">			Main.Convert(input, tabList.getSelectedIndex());</span>

<span class="nc" id="L333">		}</span>
<span class="nc bnc" id="L334" title="All 4 branches missed.">		else if(e.getSource() == clearButton &amp;&amp; !Main.isInPopUp)</span>
		{
<span class="nc bnc" id="L336" title="All 2 branches missed.">			if(!Main.myFrame.textInputContentPanel.textField.getText().isEmpty())</span>
<span class="nc" id="L337">				new ClearPopUp(Main.myFrame, &quot;&quot;, &quot;Clear Current Tablature&quot;);</span>
		}
<span class="nc bnc" id="L339" title="All 4 branches missed.">		else if(e.getSource() == saveButton &amp;&amp; !Main.isInPopUp)</span>
		{
<span class="nc" id="L341">			new SaveManager(&quot;&quot;, tabList.getSelectedIndex(), songName.getText(), timeSignature.getText(), textField.getText());</span>
		}
		
<span class="nc" id="L344">	}</span>
	
	private ArrayList&lt;ArrayList&lt;String&gt;&gt; GetInput (String[] textInput, boolean convert)
	{
<span class="nc" id="L348">		errorText.setText(&quot;&quot;);</span>
<span class="nc bnc" id="L349" title="All 2 branches missed.">		if(textField.getText().isEmpty())</span>
		{
<span class="nc" id="L351">			return null;</span>
		}
		
<span class="nc" id="L354">		ArrayList&lt;ArrayList&lt;String&gt;&gt; input = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();</span>
		
<span class="nc bnc" id="L356" title="All 2 branches missed.">		for (String line : textInput) {</span>
<span class="nc bnc" id="L357" title="All 2 branches missed.">			if(line.length() &gt; 1)</span>
			{
<span class="nc" id="L359">				line = cleanTextContent(line); //Removes redundant spaces</span>
<span class="nc bnc" id="L360" title="All 2 branches missed.">				if (!line.contains(&quot;|&quot;)) {</span>
<span class="nc bnc" id="L361" title="All 2 branches missed.">					if (convert)</span>
<span class="nc" id="L362">						errorText.setText(&quot;Wrong Formatting&quot;);</span>
<span class="nc" id="L363">					return null;</span>
				}
<span class="nc bnc" id="L365" title="All 2 branches missed.">				if (!line.contains(&quot;-&quot;)) {</span>
<span class="nc bnc" id="L366" title="All 2 branches missed.">					if (convert)</span>
<span class="nc" id="L367">						errorText.setText(&quot;Wrong Formatting&quot;);</span>
<span class="nc" id="L368">					return null;</span>
				}
				
<span class="nc" id="L371">				String[] lineInput = line.substring(line.indexOf('|')).split(&quot;&quot;);</span>
<span class="nc" id="L372">				ArrayList&lt;String&gt; lineInputList = new ArrayList&lt;String&gt;();</span>
<span class="nc" id="L373">				String tunePlusOctave = line.substring(0, line.indexOf('|')).trim();</span>
<span class="nc" id="L374">				String tune = &quot;&quot;;</span>
<span class="nc" id="L375">				String octave = &quot;&quot;;</span>
<span class="nc bnc" id="L376" title="All 2 branches missed.">				if(tunePlusOctave.length() &gt; 0) {</span>
					try {
<span class="nc" id="L378">						octave = &quot;&quot; + Integer.parseInt(tunePlusOctave.substring(tunePlusOctave.length()-1));</span>
<span class="nc" id="L379">						tune = tunePlusOctave.substring(0, tunePlusOctave.length()-1);</span>
<span class="nc" id="L380">					}catch(NumberFormatException e1){</span>
<span class="nc" id="L381">						octave = &quot;&quot;;</span>
<span class="nc" id="L382">						tune = tunePlusOctave;</span>
<span class="nc" id="L383">					}</span>
				}
<span class="nc" id="L385">				lineInputList.add(tune.trim());</span>
<span class="nc" id="L386">				lineInputList.add(octave.trim());</span>
				//lineInputList.add(tune);
<span class="nc bnc" id="L388" title="All 2 branches missed.">				for(String character : lineInput) {</span>
<span class="nc" id="L389">					lineInputList.add(character);</span>
			    }
				
<span class="nc" id="L392">				input.add(lineInputList);</span>
<span class="nc" id="L393">			}</span>
			else
			{
<span class="nc" id="L396">				input.add(new ArrayList&lt;String&gt;());</span>
			}
		}
		
<span class="nc" id="L400">		return input;</span>
	}
	
	private static String cleanTextContent(String text) 
	{
	    // strips off all non-ASCII characters
<span class="nc" id="L406">	    text = text.replaceAll(&quot;[^\\x00-\\x7F]&quot;, &quot;&quot;);</span>
	 
	    // erases all the ASCII control characters
<span class="nc" id="L409">	    text = text.replaceAll(&quot;[\\p{Cntrl}&amp;&amp;[^\r\n\t]]&quot;, &quot;&quot;);</span>
	     
	    // removes non-printable characters from Unicode
<span class="nc" id="L412">	    text = text.replaceAll(&quot;\\p{C}&quot;, &quot;&quot;);</span>
	 
<span class="nc" id="L414">	    return text.trim();</span>
	}

	public static String getTitle() {
<span class="nc bnc" id="L418" title="All 2 branches missed.">		if(title.isEmpty())</span>
<span class="nc" id="L419">			return &quot;Title&quot;;</span>
<span class="nc" id="L420">		return title;</span>
	}

	public static void setTitle(String title) {
<span class="nc" id="L424">		TextInputContentPanel.title = title;</span>
<span class="nc" id="L425">	}</span>

	public static String getTabType() {
<span class="nc" id="L428">		return tabType;</span>
	}

	public static void setTabType(String tabType) {
<span class="nc" id="L432">		TextInputContentPanel.tabType = tabType;</span>
<span class="nc" id="L433">	}</span>

	public static String getTimeSig() {
<span class="nc bnc" id="L436" title="All 2 branches missed.">		if(timeSig.isEmpty())</span>
<span class="nc" id="L437">			return &quot;4/4&quot;;</span>
<span class="nc" id="L438">		return timeSig;</span>
	}

	public static void setTimeSig(String timeSig) {
<span class="nc" id="L442">		TextInputContentPanel.timeSig = timeSig;</span>
<span class="nc" id="L443">	}</span>
		
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>